# WanderLog Image Service - Cloudflare Worker 配置

name = "wanderlog-images"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# 账户 ID (从 Cloudflare Dashboard 获取)
# account_id = "your-account-id"

# R2 存储桶绑定
[[r2_buckets]]
binding = "WANDERLOG_IMAGES"
bucket_name = "vago-assets"

# 环境变量 (敏感信息使用 wrangler secret)
[vars]
# UPLOAD_SECRET 应该使用 wrangler secret put UPLOAD_SECRET 设置

# 自定义域名 (可选)
# routes = [
#   { pattern = "images.wanderlog.app/*", zone_name = "wanderlog.app" }
# ]

# 开发环境
[env.dev]
name = "wanderlog-images-dev"

[[env.dev.r2_buckets]]
binding = "WANDERLOG_IMAGES"
bucket_name = "vago-assets"

# 生产环境
[env.production]
name = "wanderlog-images"

[[env.production.r2_buckets]]
binding = "WANDERLOG_IMAGES"
bucket_name = "vago-assets"
